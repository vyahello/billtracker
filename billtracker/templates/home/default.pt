<div metal:use-macro="load: ../shared/layout.pt">
    <div metal:fill-slot="content">
        <div class="content">
            <h1>Bill Tracker</h1>
            <div>
                Welcome ${user.name}. You currently owe ${"{:,.0f}".format(user.total_owed)}
            </div>

            <div>
                <h2>Unpaid bills</h2>
                <div tal:repeat="bill user.open_bills">
                    ${bill.description} with ${"{:,.0f}$".format(bill.total - bill.paid)} pending.
                </div>
            </div>

            <div>
                <h2>Paid bills</h2>
                <div tal:repeat="bill user.paid_bills">
                    ${bill.description} paid off at ${"{:,.0f}$".format(bill.total)}
                </div>
            </div>

        </div>
    </div>
</div>
